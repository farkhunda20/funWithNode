this is written using writefilesync